import{r as u}from"./index.NEDEFKed.js";var x={exports:{}},c={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v=u,_=Symbol.for("react.element"),y=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,U=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function h(n,t,s){var e,l={},i=null,a=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(e in t)g.call(t,e)&&!j.hasOwnProperty(e)&&(l[e]=t[e]);if(n&&n.defaultProps)for(e in t=n.defaultProps,t)l[e]===void 0&&(l[e]=t[e]);return{$$typeof:_,type:n,key:i,ref:a,props:l,_owner:U.current}}c.Fragment=y;c.jsx=h;c.jsxs=h;x.exports=c;var o=x.exports;function N(){const[n,t]=u.useState(""),s=u.useRef(null);function e(){s.current?.value?t(s.current.value):t("")}async function l(r){const d=/https:\/\/(www\.)?letterboxd\.com\/([A-Za-z0-9-_]+)(\/([A-Za-z0-9-_]+)\/([A-Za-z0-9-_]+))?/gi;/https:\/\/boxd\.it\/.+/gi.test(r)&&(r=await(await fetch(`/url/${encodeURIComponent(r)}`)).json());const m=[...r.matchAll(d)];let[,,b,,p,f]=m[0];return p||(p="watchlist"),`${b}${f?`${`|${f}`}`:""}`}async function i(){const r=await l(n);return`stremio://${new URL(window.location.href).host}/${r}/manifest.json`}async function a(){if(n.length){const r=await i();navigator.clipboard.writeText(r).catch(d=>{})}}async function w(){if(n.length){const r=await i();window.location.href=r}}return o.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[o.jsx("div",{className:"text-base",children:"A user's Letterboxd URL or a List URL:"}),o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"https://letterboxd.com/almosteffective",className:"w-full border border-black text-tailwind rounded text-xl px-2 py-1",ref:s,onChange:e,onBlur:e})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{className:"grow border border-white bg-white uppercase text-tailwind text-lg p-2 rounded font-bold hover:bg-tailwind hover:text-white hover:underline",onClick:w,children:"Install"}),o.jsx("button",{className:"grow border border-transparent hover:border-white bg-tailwind uppercase text-white text-lg p-2 rounded font-normal",onClick:a,children:"Copy"})]})]})}export{N as default};
